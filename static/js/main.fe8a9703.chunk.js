(this.webpackJsonptodoMachine=this.webpackJsonptodoMachine||[]).push([[0],[,,,,,,,,,,,,,function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(1),c=o.n(n),r=o(5),a=o.n(r),s=o(8),l=o(4),i=o(2);var d=function(e,t){var o=c.a.useState(!0),n=Object(i.a)(o,2),r=n[0],a=n[1],s=c.a.useState(!1),l=Object(i.a)(s,2),d=l[0],u=l[1],j=c.a.useState(!0),h=Object(i.a)(j,2),b=h[0],O=h[1],m=c.a.useState(t),f=Object(i.a)(m,2),x=f[0],p=f[1];return c.a.useEffect((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),p(o),O(!1),a(!0)}catch(d){u(d)}}),3e3)}),[r]),{item:x,saveItem:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),p(t)}catch(d){u(d)}},loading:b,error:d,sincronize:function(){O(!0),a(!1)}}};o(13);var u=o(0);function j(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(u.jsxs)("h2",{className:"TodoCounter ".concat(!!n&&".TodoCounter--loading"),children:["Has completado ",o," de ",t," TODOs"]})}o(15);function h(e){var t=e.searchValue,o=e.setSearchValue,n=e.loading;return Object(u.jsx)("input",{className:"TodoSearch",placeholder:"Cebolla",value:t,onChange:function(e){o(e.target.value)},disabled:n})}o(16);function b(e){var t=e.children||e.render;return Object(u.jsxs)("section",{className:"TodoList-container",children:[e.loading&&e.onLoading(),Object(u.jsxs)("section",{className:"TodoListMax",children:[e.error&&e.onError(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResult(e.searchText),!e.loading&&!e.error&&e.searchedTodos.map(t),Object(u.jsx)("ul",{children:e.children})]})]})}o(17);function O(e){return Object(u.jsxs)("li",{className:"TodoItem",children:[Object(u.jsx)("span",{className:"Icon Icon-check ".concat(e.onComplete&&"Icon-check--active"),onClick:e.onComplete,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 40 40",stroke:"currentColor",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})})}),Object(u.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete"),children:e.text}),Object(u.jsx)("span",{className:"Icon Icon-delete",onClick:e.onDelete,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 50 50",stroke:"currentColor",children:Object(u.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})]})}o(18);function m(e){var t=e.setOpenModal;return Object(u.jsx)("button",{className:"CreateTodoButton",onClick:function(){t((function(e){return!e}))},children:Object(u.jsx)("img",{src:"https://img.icons8.com/external-vitaliy-gorbachev-lineal-color-vitaly-gorbachev/60/000000/external-sunflower-flowers-vitaliy-gorbachev-lineal-color-vitaly-gorbachev.png"})})}o(19);function f(e){var t=e.addTodo,o=e.setOpenModal,n=c.a.useState(""),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),o(!1)},children:[Object(u.jsx)("label",{className:"lbl",children:"Escribe tu nuevo TODO"}),Object(u.jsx)("textarea",{value:a,onChange:function(e){s(e.target.value)},placeholder:"Amar a Andy Biersack <3"}),Object(u.jsxs)("div",{className:"containerButton",children:[Object(u.jsx)("button",{className:"TodoForm-button-cancel",type:"button",onClick:function(){o(!1)},children:"Cancelar"}),Object(u.jsx)("button",{className:"TodoForm-button-add",type:"submit",children:"A\xf1adir"})]})]})}o(20);function x(e){var t=e.children;return a.a.createPortal(Object(u.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}o(21);var p=function(){return Object(u.jsxs)("main",{className:"superior",children:[Object(u.jsx)("h1",{children:"Estamos cargando, no te desesperes..."}),Object(u.jsx)("img",{className:"img",src:"https://img.icons8.com/bubbles/50/000000/sunflower.png"})]})};var g=function(e){var t=e.children,o=e.loading;return Object(u.jsxs)("header",{children:[c.a.Children.toArray(t).map((function(e){return c.a.cloneElement(e,{loading:o})}))," "]})};function v(){}function T(){return Object(u.jsx)("section",{children:"No hay todos"})}var S=function(e){var t=c.a.useState(!1),o=Object(i.a)(t,2),n=o[0],r=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"==e.key&&(console.log("Hubo cambios en TODOS_V1"),r(!0))})),{show:n,toggleShow:function(){e(),r(!1)}}};var w=function(e){var t=e.sincronize,o=S(t),n=o.show,c=o.toggleShow;return n?Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"hubo cambios"}),Object(u.jsx)("button",{onClick:function(){return c(!1)},children:"Cargar la info"})]}):null};var y=function(){var e=function(){var e=d("TODOS_V1",[]),t=e.item,o=e.saveItem,n=e.loading,r=e.error,a=e.sincronize,u=c.a.useState(""),j=Object(i.a)(u,2),h=j[0],b=j[1],O=c.a.useState(!1),m=Object(i.a)(O,2),f=m[0],x=m[1],p=c.a.useState(!1),g=Object(i.a)(p,2),v=g[0],T=g[1],S=t.filter((function(e){return!!e.completed})).length,w=t.length,y=[];return y=!h.length>=1?t:t.filter((function(e){var t=e.text.toLowerCase(),o=h.toLowerCase();return t.includes(o)})),{loading:n,error:r,totalTodos:w,completedTodos:S,searchValue:h,setSearchValue:b,searchedTodos:y,addTodo:function(e){var n=Object(l.a)(t);n.push({completed:!1,text:e}),o(n)},completeTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(l.a)(t);c[n].completed=!0,o(c)},deleteTodo:function(e){var n=t.findIndex((function(t){return t.text===e})),c=Object(l.a)(t);c.splice(n,1),o(c)},updateTodo:function(e){var n=Object(l.a)(t),c=n.find((function(t){return t.text===e})),r=n.findIndex((function(t){return t.text===e}));n[r]=Object(s.a)(Object(s.a)({},c),e),o(n)},openModal:f,setOpenModal:x,openModalEdit:v,setOpenModalEdit:T,sincronize:a}}(),t=e.error,o=e.loading,n=e.searchedTodos,r=e.completeTodo,a=e.deleteTodo,S=e.openModal,y=e.setOpenModal,C=e.totalTodos,N=e.completedTodos,k=e.searchValue,I=e.setSearchValue,M=e.addTodo,E=e.sincronize;return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)(g,{children:[Object(u.jsx)(j,{totalTodos:C,completedTodos:N}),Object(u.jsx)(h,{searchValue:k,setSearchValue:I})]}),Object(u.jsx)(b,{error:t,loading:o,searchedTodos:n,searchText:k,totalTodos:C,onError:function(){return Object(u.jsx)(v,{})},onLoading:function(){return Object(u.jsx)(p,{})},onEmptyTodos:function(){return Object(u.jsx)(T,{})},onEmptySearchResult:function(e){return Object(u.jsxs)("p",{children:["No hay resultado para ",e]})},children:function(e){return Object(u.jsx)(O,{text:e.text,completed:e.completed,onComplete:function(){return r(e.text)},onDelete:function(){return a(e.text)}},e.text)}}),!!S&&Object(u.jsx)(x,{children:Object(u.jsx)(f,{addTodo:M,setOpenModal:y})}),Object(u.jsx)(m,{setOpenModal:y,openModal:S}),Object(u.jsx)(w,{sincronize:E})]})};o(22);a.a.render(Object(u.jsx)(y,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.fe8a9703.chunk.js.map